# Tasks: refactor-global-party-widget

## 1. Settings 内收口装置能力与新增配置

- [x] 1.1 在 Settings 页面主体内新增「数据过期」配置区域（卡片或独立区块），支持配置 1–365 天，即时保存
- [x] 1.2 从 Settings 页面移除仅包含「数据过期设置」的右下角悬浮面板
- [x] 1.3 定义随机奖惩数据模型与存储 key，实现读写 API（奖励/惩罚条目：类型 + 文字描述）
- [x] 1.4 在 Settings 页面新增「随机奖惩」配置入口，支持增删改奖惩条目（文字描述）
- [x] 1.5 定义人员名单数据模型与存储 key，实现读写 API
- [x] 1.6 在 Settings 页面新增「随机抽人配置」入口，支持人员名单的增删改查

## 2. 全局右下角浮动装置

- [x] 2.1 在根布局（如 App.vue）挂载全局右下角浮动组件，固定定位在右下角
- [x] 2.2 实现圆形主图标与 hover 时弧形（或滚轮式）展开的子图标，至少包含「奖惩」「抽人」两个子入口
- [x] 2.3 子图标点击时触发对应流程：打开全局蒙版并传入类型（抽人 / 奖惩）

## 3. 抽奖蒙版与卡牌动效

- [x] 3.1 实现全局蒙版组件：全屏遮罩、右上角关闭按钮（叉号），可接收类型（抽人 / 奖惩）
- [x] 3.2 引入 GSAP（及按需 Lottie），实现卡牌轮播动效：多张卡片飞速轮播后定格 3 张
- [x] 3.3 实现用户从 3 张中点击选择一张后，三张同时翻牌展示内容（抽人：人物名字；奖惩：奖励/惩罚 + 配置文字）
- [x] 3.4 实现被选中卡牌的高亮与浮动强调动效（GSAP 或 Lottie）
- [x] 3.5 抽人流程从人员名单读取并随机选出 3 人；奖惩流程从奖惩列表随机选出 3 条（可含奖励与惩罚混合）

## 4. 集成与验证

- [x] 4.1 从任意页面可打开右下角浮动入口并完成一次「抽人」、一次「奖惩」流程，数据来自 Settings 配置
- [x] 4.2 在 Settings 中修改数据过期、奖惩列表、人员名单后，行为符合预期（过期逻辑、抽人/奖惩内容正确）
- [x] 4.3 移动端或触摸设备上，浮动装置可点击展开/收起子图标（无需依赖 hover）
- [x] 4.4 运行 `npm run build` 通过，无类型与构建错误
