# 增强游戏体验：成就系统与可视化优化

## Why（为什么）

当前猜测游戏缺乏足够的成就感和成瘾性设计：
1. **成就感不足**：成功时只有简单的文字提示，缺乏视觉冲击和成就感
2. **成瘾性不足**：失败时缺乏继续尝试的动力，没有进度可视化
3. **数据展示有限**：只有会话内统计，无法形成长期激励
4. **交互反馈单一**：缺乏动画和微交互，体验不够丰富

通过多层次成就系统、进度可视化、本地持久化和丰富的动画反馈，可以显著提升用户体验和游戏粘性。

## What Changes（改变什么）

### 1. 多层次成就系统
- **即时反馈**：成功/失败时的动画效果、庆祝动效
- **单局统计**：显示用时、尝试次数、准确率等
- **长期成就**：使用 localStorage 保存累计数据、里程碑徽章、成就解锁

### 2. 渐进式提示 + 进度可视化
- **进度条**：显示"第 X/5 次尝试"和"距离目标还有 X 步"
- **尝试轨迹可视化**：
  - 城市猜测：地图标记已猜城市，显示距离变化趋势
  - 英雄猜测：网格展示已猜英雄，高亮匹配属性
- **智能提示**：每次错误后提供更明确的提示

### 3. 本地持久化（localStorage）
- 从 sessionStorage 迁移到 localStorage
- 保存历史数据：今日最佳、历史最高、连续成功次数
- 成就系统数据持久化

### 4. 轻量级动画 + 微交互
- **成功动画**：庆祝动画（彩带/烟花效果）、放大动画、颜色变化
- **失败动画**：温和的"再试试"提示、进度条动画
- **微交互**：按钮点击反馈、卡片悬停效果

## Impact（影响）

### 受影响的文件
- `src/views/CityGuess.vue` - 添加成就系统、进度可视化、动画效果
- `src/views/HeroGuess.vue` - 添加成就系统、进度可视化、动画效果
- `src/views/Home.vue` - 更新统计展示，添加成就展示
- `src/utils/achievementUtils.ts` - 新建：成就系统工具函数
- `src/utils/storageUtils.ts` - 新建：统一存储管理工具
- `src/components/ProgressBar.vue` - 新建：进度条组件
- `src/components/Celebration.vue` - 新建：庆祝动画组件
- `src/components/CityMap.vue` - 新建：城市地图可视化组件
- `src/components/HeroGrid.vue` - 新建：英雄网格可视化组件
- `src/components/AchievementBadge.vue` - 新建：成就徽章组件

### 新增代码
- 成就系统核心逻辑（约 300 行）
- 存储管理工具（约 150 行）
- 可视化组件（约 400 行）
- 动画效果（约 200 行）
- 总计约 1050 行新代码

### 修改的代码
- 两个游戏视图组件（各约 +200 行）
- 首页统计展示（约 +100 行）
