# Design: 听歌识曲输入与揭晓逻辑变更

## Context
- 当前：主持人配置歌词文本，游戏内用 Speech Synthesis 朗读；可选上传「揭晓用原曲片段」，揭晓时播放。
- 目标：主持人上传「AI 生成歌」MP3 作为本轮的播放内容，配置歌词 + 歌手；揭晓只展示文本，不播放音频。
- 约束：纯前端、本地存储（IndexedDB），单条音频建议仍限制 5MB。

## Goals / Non-Goals
- **Goals**：支持「上传 MP3 + 歌词 + 歌手」的配置与游戏中播放该 MP3；揭晓仅展示歌词与歌手信息。
- **Non-Goals**：不实现 AI 生成歌功能（由主持人在外部生成后上传）；不改变猜题/提示/计时等其余游戏规则。

## Decisions
- **播放用音频**：沿用 IndexedDB 存储 Blob；字段名可保留 `audioClip` 或改为 `playbackAudio`，语义统一为「游戏中播放的 AI 生成歌（MP3）」，且为必填（无音频则不允许进入该题或显示「暂无播放音频」并禁用播放）。
- **揭晓**：仅渲染歌词文本 + 歌手信息，不请求、不播放任何音频；原「揭晓原曲片段」逻辑删除。
- **语种/语速/音调**：从 Schema 与存储中移除，游戏页不再调用 `useSpeechReader` 朗读歌词。
- **歌手信息**：新增必填字段 `artist`，揭晓时与歌词一起展示。
- **兼容与迁移**：视为 **BREAKING**；当前未到实用阶段，**无需实现旧数据迁移**，主持人可主动清理缓存（如清空听歌识曲 IndexedDB / 本地数据）后按新 Schema 重配。

## Risks / Trade-offs
- `useSpeechReader` 若仅被听歌识曲使用，可保留 composable 供其他功能复用，仅从听歌识曲页面移除调用。

## Migration Plan
1. Schema 与存储：增加 `artist`；将「揭晓音频」语义改为「播放用音频」并设为必填。
2. 游戏页：用 `<audio>` 播放当前题的 MP3，揭晓区域只展示歌词 + 歌手，移除揭晓音频播放与 TTS。
3. 旧数据：不实现迁移逻辑；若主持人未清理缓存，加载到旧结构数据时可按「缺字段则不可播放 / 不选题」处理即可（实现从简）。

## Default / 示例数据
- **唯一默认示例**：方大同《特别的人》；歌词、答案、歌手见 tasks 1.3；音频为 bundled 的 `src/data/specialPerson.mp3`。导入时 fetch 该资源并写入存储。

## Open Questions
- 无。
