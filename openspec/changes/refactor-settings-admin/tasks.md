# Tasks: Settings 管理员后台实现任务

## 1. 基础架构搭建

- [ ] 1.1 创建 Schema 类型定义 (`src/schemas/types.ts`)
- [ ] 1.2 实现城市数据 Schema (`src/schemas/citySchema.ts`)
- [ ] 1.3 实现英雄数据 Schema (`src/schemas/heroSchema.ts`)
- [ ] 1.4 实现电影数据 Schema (`src/schemas/movieSchema.ts`)
- [ ] 1.5 扩展 `storageUtils.ts` 支持自定义游戏数据存储
- [ ] 1.6 实现游戏显示/隐藏状态存储 (`gameVisibility`)
- [ ] 1.7 实现数据过期机制（默认 30 天，可配置）

## 2. UI 组件开发

- [ ] 2.1 创建 `SettingsCard.vue` 设置卡片组件（含 hover 快捷操作图标）
- [ ] 2.2 创建 `SchemaForm/FormField.vue` 表单字段组件
- [ ] 2.3 创建 `SchemaForm/SchemaForm.vue` Schema 驱动的表单
- [ ] 2.4 创建 `SchemaForm/SchemaTable.vue` Schema 驱动的表格（响应式）
- [ ] 2.5 创建 `SchemaForm/DataEditor.vue` 数据编辑器（表格+弹窗表单）

## 3. 游戏配置页面开发

- [ ] 3.1 重构 `Settings.vue` 为卡片式布局（含快捷隐藏功能）
- [ ] 3.2 创建 `GameSettings/CitySettings.vue` 城市游戏配置页面
- [ ] 3.3 创建 `GameSettings/HeroSettings.vue` 英雄游戏配置页面
- [ ] 3.4 创建 `GameSettings/MovieSettings.vue` 电影游戏配置页面
- [ ] 3.5 更新路由配置，添加配置页面路由
- [ ] 3.6 实现数据过期天数配置 UI

## 4. 数据管理功能

- [ ] 4.1 实现数据的增删改查逻辑
- [ ] 4.2 实现默认数据与自定义数据的切换逻辑（切换时复制全部默认数据）
- [ ] 4.3 实现数据验证逻辑（基于 Schema）
- [ ] 4.4 实现数据搜索和分页功能
- [ ] 4.5 实现一键重置为默认数据功能
- [ ] 4.6 实现数据容量状态显示（如 320/500 条）
- [ ] 4.7 实现达到上限时禁用新增按钮
- [ ] 4.8 实现 JSON 导出功能（文件名含游戏类型和时间戳）
- [ ] 4.9 实现 JSON 导入功能（含文件选择、解析、验证、预览确认）

## 5. 游戏逻辑适配

- [ ] 5.1 修改城市猜测游戏，支持读取自定义数据
- [ ] 5.2 修改英雄猜测游戏，支持读取自定义数据
- [ ] 5.3 修改电影猜测游戏，支持读取自定义数据
- [ ] 5.4 实现旧设置数据的迁移逻辑
- [ ] 5.5 修改首页 `Home.vue`，根据 `gameVisibility` 过滤显示的游戏

## 6. 导航与入口

- [ ] 6.1 修改导航栏，将 Settings 入口改为仅显示齿轮图标（无文字）

## 7. 测试与优化

- [ ] 7.1 测试各配置页面功能
- [ ] 7.2 测试数据 CRUD 功能
- [ ] 7.3 测试移动端适配（完全响应式）
- [ ] 7.4 测试数据过期机制及 Toast 提示
- [ ] 7.5 测试 JSON 导入导出功能
- [ ] 7.6 测试数据容量上限处理
- [ ] 7.7 优化加载性能和用户体验

## 依赖关系

```
1.1 → 1.2, 1.3, 1.4
1.1 → 2.2 → 2.3, 2.4 → 2.5
1.5, 1.6, 1.7 可并行
1.5 → 4.1 → 4.2, 4.3, 4.4, 4.5
4.1 → 4.6, 4.7, 4.8, 4.9
2.1 → 3.1
2.5 → 3.2, 3.3, 3.4
3.* → 3.5
1.7 → 3.6
4.* → 5.1, 5.2, 5.3
1.5 → 5.4
1.6 → 5.5
6.1 可独立进行
```

## 可并行工作

- 1.2, 1.3, 1.4 可并行（各游戏 Schema 独立）
- 1.5, 1.6, 1.7 可并行（存储功能独立）
- 3.2, 3.3, 3.4 可并行（各游戏配置页面独立）
- 4.6, 4.7, 4.8, 4.9 可并行（数据管理功能独立）
- 5.1, 5.2, 5.3, 5.5 可并行（各游戏适配独立）
- 6.1 可独立进行（导航修改独立）
