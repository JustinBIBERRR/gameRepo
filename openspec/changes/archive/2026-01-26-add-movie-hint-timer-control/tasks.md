# 实施任务清单

## 1. 数据结构和类型定义更新
- [x] 1.1 更新 `storageUtils.ts` 中的 `GameSettings` 类型，添加 `enableTimer` 字段
- [x] 1.2 更新 `movieStorage.ts` 中的 `UserMovie` 类型，添加 `hint?` 可选字段
- [x] 1.3 更新 `movieUtils.ts` 中的 `Movie` 类型，添加 `hint?` 可选字段
- [x] 1.4 更新默认配置，设置 `enableTimer: true`

## 2. 设置页面更新 (Settings.vue)
- [x] 2.1 全局默认设置：添加"启用倒计时"复选框 + 时长输入框（一行式布局）
- [x] 2.2 游戏类型覆盖：为城市/英雄/电影添加"启用倒计时"复选框
- [x] 2.3 电影注册表单：添加"初始提示"输入框（可选，带字数提示和占位符）
- [x] 2.4 电影列表：显示提示配置状态（未设置提示时显示提示标记）
- [x] 2.5 更新保存逻辑，处理 `enableTimer` 和 `hint` 字段

## 3. 电影猜测游戏页面更新 (MovieGuess.vue)
- [x] 3.1 读取电影的 `hint` 字段
- [x] 3.2 添加初始提示显示区域（条件：全局开关开启 + 电影配置了提示）
- [x] 3.3 根据 `enableTimer` 配置控制倒计时组件显示
- [x] 3.4 更新游戏状态保存和恢复逻辑

## 4. 城市猜测游戏页面更新 (CityGuess.vue)
- [x] 4.1 读取 `enableTimer` 配置
- [x] 4.2 根据配置控制倒计时组件显示和初始化
- [x] 4.3 处理倒计时关闭时的游戏逻辑（不触发超时）

## 5. 英雄猜测游戏页面更新 (HeroGuess.vue)
- [x] 5.1 读取 `enableTimer` 配置
- [x] 5.2 根据配置控制倒计时组件显示和初始化
- [x] 5.3 处理倒计时关闭时的游戏逻辑（不触发超时）

## 6. 测试和验证
- [x] 6.1 验证电影提示在全局开关开启时正确显示
- [x] 6.2 验证电影提示在全局开关关闭时不显示
- [x] 6.3 验证未配置提示的电影不显示提示区域
- [x] 6.4 验证倒计时开关在全局和游戏类型级别正确工作
- [x] 6.5 验证倒计时关闭时游戏正常进行（无超时限制）
- [x] 6.6 验证设置页面的一行式UI交互体验
- [x] 6.7 验证向后兼容性（现有数据不受影响）
