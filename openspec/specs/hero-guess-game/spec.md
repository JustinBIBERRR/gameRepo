# hero-guess-game Specification

## Purpose
TBD - created by archiving change add-game-platform. Update Purpose after archive.
## Requirements
### Requirement: 人物随机选择
系统 SHALL 从王者荣耀人物列表中随机选择一个目标人物。

#### Scenario: 开始新游戏
- **WHEN** 用户开始王者荣耀人物猜测游戏
- **THEN** 系统随机选择一个王者荣耀人物作为目标
- **AND** 目标人物对用户隐藏

### Requirement: 初始提示
系统 SHALL 在游戏开始时随机显示目标英雄的一个属性作为初始提示。

#### Scenario: 显示初始提示
- **WHEN** 用户开始王者荣耀人物猜测游戏
- **THEN** 系统在游戏说明下方显示一个醒目的提示卡片
- **AND** 系统随机选择职业、年代、国籍、人类、性别中的一个属性
- **AND** 提示卡片显示该属性的名称和值（如："💡 提示：职业：法师"或"💡 提示：年代：三国"）
- **AND** 提示卡片始终可见，不可隐藏
- **AND** 初始提示的属性不会在后续猜测的属性匹配中重复显示（因为已经知道匹配）

### Requirement: 猜测输入
系统 SHALL 允许用户输入猜测的人物名称，最多提供 5 次猜测机会。

#### Scenario: 用户输入猜测
- **WHEN** 用户输入人物名称并提交
- **THEN** 系统验证输入是否有效（人物名称是否在列表中）
- **AND** 如果有效，消耗一次猜测机会
- **AND** 如果无效，提示用户重新输入且不消耗机会

### Requirement: 属性分类显示
系统 SHALL 使用五个灰色方格分别表示职业、年代、国籍、人类、性别五个属性分类。

#### Scenario: 显示属性方格
- **WHEN** 用户提交有效猜测后
- **THEN** 系统显示五个灰色方格，分别标注：职业、年代、国籍、人类、性别
- **AND** 方格初始状态为灰色

### Requirement: 属性匹配提示
系统 SHALL 当目标人物和猜测人物的属性相同时，将对应方格变为绿色。

#### Scenario: 属性匹配
- **WHEN** 用户提交有效猜测后
- **THEN** 系统比较目标人物和猜测人物的五个属性
- **AND** 如果职业相同，职业方格变为绿色
- **AND** 如果年代相同，年代方格变为绿色
- **AND** 如果国籍相同，国籍方格变为绿色
- **AND** 如果人类属性相同，人类方格变为绿色
- **AND** 如果性别相同，性别方格变为绿色
- **AND** 不匹配的属性保持灰色

### Requirement: 人物属性定义
系统 SHALL 为每个王者荣耀人物（100-120个主要英雄）定义职业、年代、国籍、人类、性别五个属性。

#### Scenario: 人物属性
- **WHEN** 系统加载人物数据
- **THEN** 每个人物包含以下属性：
  - 职业：打野、法师、射手、辅助、战士之一（5个值）
  - 年代：古代（唐朝/宋朝/明朝合并）、现代、未知（3个值）
  - 国籍：中国、日本、未知（3个值）
  - 人类：人类、虚拟角色（2个值）
  - 性别：男性、女性、未知（3个值）

### Requirement: 游戏成功
系统 SHALL 在用户正确猜测目标人物时判定游戏成功。

#### Scenario: 猜测成功
- **WHEN** 用户输入的人物名称与目标人物匹配
- **THEN** 系统显示成功消息
- **AND** 所有五个属性方格变为绿色
- **AND** 游戏结束
- **AND** 提供重新开始游戏的选项

### Requirement: 游戏失败
系统 SHALL 在用户用尽 5 次猜测机会仍未猜中时判定游戏失败。

#### Scenario: 猜测失败
- **WHEN** 用户已使用 5 次猜测机会且未猜中
- **THEN** 系统显示失败消息并揭示目标人物
- **AND** 游戏结束
- **AND** 提供重新开始游戏的选项

### Requirement: 游戏状态持久化
系统 SHALL 使用 sessionStorage 保存游戏状态，支持页面刷新后恢复进度。

#### Scenario: 保存游戏状态
- **WHEN** 用户进行游戏（选择目标、提交猜测等）
- **THEN** 系统将当前游戏状态保存到 sessionStorage
- **AND** 保存内容包括：目标人物、已猜测次数、猜测历史记录

#### Scenario: 恢复游戏状态
- **WHEN** 用户刷新页面
- **THEN** 系统从 sessionStorage 读取游戏状态
- **AND** 恢复目标人物、已猜测次数和猜测历史
- **AND** 用户可以继续之前的游戏

#### Scenario: 重新开始游戏
- **WHEN** 用户关闭标签页后重新打开
- **THEN** sessionStorage 自动清除
- **AND** 游戏重新开始，随机选择新的目标人物

