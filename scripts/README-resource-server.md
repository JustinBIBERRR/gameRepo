# 本地资源服务器 - 一键启动

**新手、不会 GitHub？** → 直接看 **[新手使用说明.md](./新手使用说明.md)**，按步骤做即可（安装什么、在哪里改路径、双击哪个文件都写好了）。

---

在另一台电脑上使用游戏平台时，可将视频/音频放在本机某个目录，通过本地 HTTP 服务提供 `http://127.0.0.1:8080/文件名` 形式的地址，供游戏配置使用。

## 一键启动（Windows）

1. **安装 Node.js**（若未安装）：https://nodejs.org/
2. **放置资源**：把视频（如 `.mp4`）、音频（如 `.mp3`）放到一个文件夹，例如：
   - 默认：`C:\Users\<你的用户名>\Videos`
   - 或任意路径，如 `C:\user\xxx`、`D:\game-resources`
3. **（可选）修改配置**：用记事本打开 `scripts\resource-server.config.txt`，在**第一行**写你的资源目录路径（一行一个路径，使用第一个有效行；以 `#` 开头为注释）。不修改则使用默认目录 `C:\Users\<用户名>\Videos`。
4. **双击运行**：`scripts\启动本地资源服务.bat`
   - 会自动启动服务器并打开浏览器访问 http://127.0.0.1:8080/
   - 控制台会显示目录和示例 URL，例如：`http://127.0.0.1:8080/mry.mp4`
5. **在游戏中配置**：在「电影数据管理」/「听歌识曲数据」里，将电影视频地址或歌曲音频地址填为上述 URL（如 `http://127.0.0.1:8080/mry.mp4`）。

## 命令行用法

```bash
# 使用配置文件或默认目录，并自动打开浏览器
node scripts/serve-videos.cjs --open

# 指定目录和端口
node scripts/serve-videos.cjs "C:\Users\你的用户名\Videos"
node scripts/serve-videos.cjs "D:\resources" 3000
```

## 说明

- 仅在本机有效：`127.0.0.1` 指向当前电脑，其他访客无法访问你本机的资源。
- 部署在 GitHub Pages 时，在你本机打开该页面并同时运行此服务，即可使用本机资源 URL。
- 关闭服务：在运行 bat 时出现的黑色窗口里按 `Ctrl+C`，或直接关闭该窗口。
